# NaLa Coder 前端使用说明

## 🎯 已实现的功能

### ✅ 语音唤醒和语音转文字
- 点击麦克风图标开始语音输入
- 支持中文语音识别
- 语音自动转换为文字并发送
- 实时显示语音识别状态

### ✅ 文字输入
- 支持键盘输入文字消息
- 按回车键快速发送
- 支持长文本输入

### ✅ 左侧对话框
- 现代化的聊天界面
- 用户消息和AI回复区分显示
- 支持会话管理
- 实时显示"正在思考..."状态

### ✅ 右侧代码浏览和语法高亮
- 文件树浏览器
- 点击文件查看内容
- 支持多种编程语言语法高亮
- 面包屑导航显示文件路径

### ✅ 现代化样式
- GitHub风格的深色主题
- 响应式布局设计
- 平滑的动画效果
- 现代化的UI组件

## 🚀 快速开始

### 1. 启动后端服务
```bash
# 在项目根目录
go run cmd/server/main.go
```

### 2. 访问前端
```bash
# 方法1: 使用启动脚本
cd frontend
./start.sh

# 方法2: 直接访问
# 打开浏览器访问: http://localhost:8080/frontend/
```

### 3. 测试功能
```bash
# 访问测试页面验证功能
http://localhost:8080/frontend/test.html
```

## 🎮 使用指南

### 语音功能
1. **开始语音输入**
   - 点击左侧聊天面板的麦克风图标 🎤
   - 允许浏览器麦克风权限
   - 看到"正在听..."提示时开始说话

2. **语音命令示例**
   - "帮我分析这个项目的代码结构"
   - "查看main.go文件的内容"
   - "解释这个函数的作用"

### 聊天功能
1. **文字输入**
   - 在输入框中输入问题
   - 按回车键或点击发送按钮
   - 等待AI助手回复

2. **聊天示例**
   - "这个项目的主要功能是什么？"
   - "帮我优化这段代码"
   - "解释这个设计模式"

### 文件浏览
1. **浏览文件结构**
   - 在中间面板查看项目文件
   - 点击文件夹展开/收起
   - 点击文件查看内容

2. **代码查看**
   - 右侧面板显示文件内容
   - 支持语法高亮
   - 面包屑显示当前文件路径

## 🔧 技术特性

### 前端技术
- **HTML5**: 语义化标记
- **CSS3**: 现代化样式，深色主题
- **JavaScript ES6+**: 原生JS，无框架依赖
- **Web Speech API**: 语音识别和合成
- **Prism.js**: 代码语法高亮
- **Font Awesome**: 图标库

### 后端API
- `POST /api/chat` - 发送聊天消息
- `POST /api/chat/stream` - 流式聊天
- `GET /api/files/tree` - 获取文件树
- `GET /api/files/content` - 获取文件内容
- `GET /api/speech/config` - 获取语音配置

### 浏览器兼容性
- ✅ Chrome 66+ (推荐)
- ✅ Firefox 60+
- ✅ Safari 14+
- ✅ Edge 79+

## 🎨 界面布局

```
┌─────────────────────────────────────────────────────────────┐
│                   顶部导航栏                                │
├─────────────┬─────────────────────┬────────────────────────┤
│             │                     │                        │
│   聊天面板   │     文件浏览器       │      代码编辑器         │
│             │                     │                        │
│  • 语音输入  │  • 文件树           │  • 语法高亮            │
│  • 文字输入  │  • 文件图标         │  • 面包屑导航          │
│  • 消息列表  │  • 点击查看         │  • 代码内容            │
│             │                     │                        │
└─────────────┴─────────────────────┴────────────────────────┘
```

## 🔍 故障排除

### 语音功能不工作
1. 检查浏览器是否支持Web Speech API
2. 确保允许了麦克风权限
3. 尝试使用Chrome浏览器
4. 检查是否在HTTPS或localhost环境

### 页面无法加载
1. 确认后端服务正在运行
2. 检查端口8080是否被占用
3. 查看浏览器控制台错误信息

### API调用失败
1. 检查网络连接
2. 确认后端服务状态
3. 查看浏览器开发者工具的网络面板

### 代码高亮不工作
1. 确认Prism.js已正确加载
2. 检查文件类型是否被正确识别
3. 刷新页面重试

## 📱 移动端支持

- 响应式布局，适配移动设备
- 触摸友好的按钮设计
- 移动端优化的文件浏览器
- 支持移动端语音输入

## 🔮 扩展建议

### 可以添加的功能
- [ ] 代码编辑和保存
- [ ] 实时协作编辑
- [ ] 代码片段分享
- [ ] 更多语音命令
- [ ] 自定义主题
- [ ] 快捷键支持

### 技术改进
- [ ] WebSocket实时通信
- [ ] Service Worker缓存
- [ ] PWA支持
- [ ] 更多编程语言支持
- [ ] 插件系统

---

**🎉 现在你可以享受现代化的AI代码助手体验了！** 