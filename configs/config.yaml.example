# NaLa Coder 配置示例文件
# 复制为 config.yaml 并修改相应配置

# 服务配置
server:
  port: "8888"
  host: "127.0.0.1"
  
# 大模型配置
llm:
  default_provider: "deepseek"
  
  # OpenAI 配置
  openai:
    api_key: "your-openai-api-key-here"
    base_url: "https://api.openai.com/v1/"
    model: "gpt-4"
    max_tokens: 8192
    temperature: 0.3
    
  # DeepSeek 配置  
  deepseek:
    api_key: "your-deepseek-api-key-here"
    base_url: "https://api.deepseek.com/"
    model: "deepseek-chat"
    max_tokens: 8192
    temperature: 0.3
    
  # Claude 配置
  claude:
    api_key: "your-claude-api-key-here"
    base_url: "https://api.anthropic.com/"
    model: "claude-3-sonnet-20240229"
    max_tokens: 8192
    temperature: 0.3
    
  # Ollama 配置
  ollama:
    base_url: "http://localhost:11434/"
    model: "llama2"
    max_tokens: 8192
    temperature: 0.3

# Agent 配置
agent:
  max_loops: 50
  context_window: 32000
  compression_threshold: 0.9  # 90%阈值触发压缩
  max_tool_concurrency: 10

# 工具配置
tools:
  enabled_tools:
    - "read"
    - "write" 
    - "edit"
    - "multi_edit"
    - "glob"
    - "grep"
    - "ls"
    - "bash"
    - "web_search"
    - "web_fetch"
  
  # 工具超时配置 (毫秒)
  timeouts:
    bash: 120000      # 2分钟
    web_fetch: 30000  # 30秒
    web_search: 30000 # 30秒

# 上下文管理配置
context:
  history_limit: 6  # 保留最近6轮对话
  storage_path: "~/.nala-coder/storage"
  storage_type: "sqlite"  # 存储类型: sqlite(默认) 或 json
  persistence_file: "CODE_AGENT.md"
  compression_threshold: 0.9
  context_window: 32000

# 提示词配置
prompts:
  directory: "~/.nala-coder/prompts"
  hot_reload: true

# 日志配置
logging:
  level: "info"      # debug, info, warn, error
  format: "text"     # text, json
  output: "both"   # stdout, file, both
  file: "~/.nala-coder/logs/nala-coder.log"  # 日志文件路径（当output为file或both时使用）

# MCP配置
mcp:
  enabled: false
  servers: []

# 语音识别配置（仅保留前端配置）
speech:
  enabled: true         # 是否启用前端语音识别功能
  # 语音唤醒词配置
  wake_words: ["小娜", "小助手"]  # 支持的唤醒词列表
  wake_timeout: 30      # 语音输入超时时间（秒）
  language: "zh-CN"     # 语音识别语言

# 环境变量支持
# 可以通过环境变量覆盖任何配置项
# 例如: OPENAI_API_KEY, DEEPSEEK_API_KEY 等